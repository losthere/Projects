<!doctype html>
<html>
<head>
<title>User File Upload</title>
<link type="image/x-icon" href="../../comm/lib/images/favicon.ico" rel="icon" />
<link type="image/x-icon" href="../../comm/lib/images/favicon.ico" rel="shortcut icon" />
<link rel="stylesheet"  href="../../comm/lib/css/general2.css" type="text/css" />
<link rel="stylesheet"  href="../../comm/lib/css/comm-default.css" type="text/css" />
<link rel="stylesheet"  href="../../comm/lib/css/notes.css" type="text/css" />
<link rel="stylesheet"  href="../../comm/lib/css/uitk.min.css" type="text/css" />
<script src="../../comm/lib/js/common/jquery.js"  type="text/javascript"></script>
<script src="../../comm/lib/js/common/angular.js"  type="text/javascript"></script> 
<script   src="../../comm/lib/js/common/responsive-layout.js"  type="text/javascript"></script>
<script type="text/javascript"  src="../../comm/lib/js/common/ux.js"></script>
<script src="../lib/js/common/ng-csv.js"></script>
<script type="text/javascript" src="../lib/js/common/angular-sanitize.js"></script>
<script type="text/javascript" src="../lib/js/common/angular-touch.js"></script>
<script type="text/javascript" src="../lib/js/common/angular-translate/angular-translate.js"></script>
<script type="text/javascript" src="../lib/js/common/lodash.js"></script>
<script src="../lib/js/common/ngDialog.min.js" type="text/javascript"></script>
<script src="../lib/js/common/uitk.js"></script>
<script src="userViewModel.js"></script>
<script src="uploadUserViewModel.js"></script>
<script src="../lib/js/modules/retrieval/staticDataService.js" type="text/javascript"></script>
<script src="../lib/js/modules/retrieval/lookup.js" type="text/javascript"></script>
<script src="userregistration.js"></script>
</head>
<body  ng-app="userUploadModule" ng-controller='userUploadController'>
<h1>
	<span>User Registration</span>
</h1>
<p>
	<uitk:message model="errorMessageModel"> </uitk:message> 
</p>
<uitk:dialog dialog-id='userFileUpload' dialog-role='dialog' default-width='65%' default-height="70%"
	header-text='Upload' show="showUserUploadDialog" confirm-dialog="false">
	<form name="uploadForm">
		<div>		          
			<input id="csvFileInput" type="file" data-method="ctrlFn" file-reader="fileContent" file-name="fileName"/> <span ng-show="dataModel.showUploadError" style="color: red;">{{dataModel.uploadErrorMsg}}</span><span ng-show="dataModel.errorMsg" style="color: red;">No records to process</span>
			<uitk:message model="dialogErrorMessageModel"> </uitk:message>
		</div>		   
		<div ng-if="dataModel.isFileLoaded() && !dataModel.showUploadError" class='table-wrapper'>
			<uitk:dynamic-table id="uploadFileUserInfoTable" model="uploadUsersTableModel"> </uitk:dynamic-table>
		</div>
		<div>
		   <uitk:button id="saveUser" type="button" value="Submit" enable-default="true" ng-show='dataModel.isFileLoaded() && !dataModel.showUploadError' ng-click=saveUserFileRecords()
                 custom-class='uitk-width-6t uitk-btn-close-dialog'></uitk:button>
		   <uitk:button type="button" id="cancelUser" value="Close" enable-default="true" ng-show='dataModel.isFileLoaded() && !dataModel.showUploadError' 
		   	onclick="document.getElementById('userFileUpload_closeLink').click();" custom-class='uitk-width-6t uitk-btn-close-dialog'></uitk:button>
    	</div>
	</form>
</uitk:dialog>
<div id="userFileHistoryViewElement" style="z-index:auto">
	<div ng-if="showRecords" class='table-wrapper' style="overflow:auto">
		<uitk:dynamic-table id="uploadFileInfoTable" model="userTableModel"> </uitk:dynamic-table>
	</div>
</div>
</body>
<script src="/cordys/html5/cordys.html5sdk.js"  type="text/javascript"></script>
<!-- <script src="../../comm/lib/js/common/cordys.pagination.js"  type="text/javascript"></script> -->
<script src="../../comm/services/services.js"  type="text/javascript"></script>
</html>
